[{"/Users/joycetoussaint/project_netquest/netquest/src/index.js":"1","/Users/joycetoussaint/project_netquest/netquest/src/reportWebVitals.js":"2","/Users/joycetoussaint/project_netquest/netquest/src/App.js":"3"},{"size":288,"mtime":1612120600850,"results":"4","hashOfConfig":"5"},{"size":362,"mtime":1610555030330,"results":"6","hashOfConfig":"5"},{"size":5528,"mtime":1612131236110,"results":"7","hashOfConfig":"5"},{"filePath":"8","messages":"9","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"10"},"1n89cvs",{"filePath":"11","messages":"12","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"13"},{"filePath":"14","messages":"15","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"16","usedDeprecatedRules":"10"},"/Users/joycetoussaint/project_netquest/netquest/src/index.js",[],["17","18"],"/Users/joycetoussaint/project_netquest/netquest/src/reportWebVitals.js",[],["19","20"],"/Users/joycetoussaint/project_netquest/netquest/src/App.js",["21","22","23","24"],"import React, { useState, useEffect }  from 'react'\nimport PerfectScrollbar from 'react-perfect-scrollbar'\nimport 'react-perfect-scrollbar/dist/css/styles.css';\nimport './App.css';\nimport 'object-to-xml'\n\nimport {\n    BrowserRouter as Router,\n    Switch,\n    Route,\n    useHistory\n} from 'react-router-dom';\n\nconst dicStationData = {};\n\nfunction App() {\n    useEffect (() => {\n        fetch(\"http://localhost:9000/weatherData\")\n            .then(res => res.text())\n            .then((data) => {\n                let newData = JSON.parse(data)\n                for(let key in newData) {\n                    dicStationData[key] = newData[key]\n                }\n                for(let key in dicStationData){\n                    localStorage.setItem(key,dicStationData[key]);\n                }\n                setInterval(() => {\n                }, 0);\n            })\n            .catch(err => console.log(err));\n    });\n\n    return (\n        <div className=\"App\">\n            <div>\n            </div>\n            <Router>\n                <Switch>\n                    <Route exact path='/login' component={Login} />\n                    <Route exact path='/weather' component={Weather}/>\n                    <Route exact path='/' component={Login} />\n                    <Route path='*'><div>404 not found</div></Route>\n                </Switch>\n            </Router>\n        </div>\n    );\n}\n\nfunction Weather() {\n    const history = useHistory();\n    const windList = {}\n    const array1 = []\n    const array2 = []\n    const allValues = []\n\n    const addDataAllValues = () => {\n        for(let key in localStorage){\n            if(key.match(/^[0-9]+$/)){\n                // allValues.push(localStorage.getItem(key))\n                allValues[key] = localStorage.getItem(key)\n            }\n        }\n    }\n\n    const addToArray1 = () => {\n        for(let item in allValues){\n            array1.push(allValues[item].split(',')[4])\n        }\n        array1.sort(function(a, b) {\n            return b - a;\n        });\n        array1.length = 10\n\n    }\n\n    const addToArray2 = () => {\n        for(let item in allValues){\n            array2.push(allValues[item].split(',')[5])\n        }\n        array2.sort(function(a, b) {\n            return b - a;\n        });\n        array2.length = 10\n    }\n\n    const windInfo = () => {\n        for(let item in allValues) {\n            windList[allValues[item].split(',')[7]] = allValues[item].split(',')[12]\n        }\n    }\n    const handleDownload = () => {\n        let o2x = require('object-to-xml')\n        let dic_xml = o2x(dicStationData)\n        console.log(dic_xml)\n    }\n\n    const handleLogout = () => {\n        console.log(\"logged off\")\n        history.push(\"/login\")\n    }\n    return (\n        <div>\n            <h2>Weather data application</h2>\n            <button onClick={handleLogout}>Logout</button>\n            <button onClick={handleDownload}>Download data</button>\n\n            <div className=\"content\">\n                <div className=\"weatherbox\">\n                    <PerfectScrollbar>\n                        <h1>All stations</h1>\n                        {addDataAllValues()}\n                        {windInfo()}\n                        {Object.keys(windList).map((key, index) => (\n                        <div className=\"longItem\" key={key}>\n                            <p> Windspeed: {key} </p>\n                            <p> Winddirection: {windList[key]} </p>\n                        </div>\n                        ))}\n                    </PerfectScrollbar>\n                </div>\n                <div className=\"topten\">\n                    <PerfectScrollbar>\n                        <h1>Top ten</h1>\n                        <p>station level pressure</p>\n                        {addToArray1()}\n                        {array1.map(value => (\n                            <div className=\"item\" key={value}>\n                                <p>{value}</p>\n                            </div>\n                        ))}\n                    </PerfectScrollbar>\n                </div>\n\n                <div className=\"topten\">\n                    <PerfectScrollbar>\n                        <h1>Top ten</h1>\n                        <p>sea level pressure</p>\n                        {addToArray2()}\n                        {array2.map(value => (\n                            <div className=\"item\" key={value}>\n                               {value}\n                            </div>\n                        ))}\n                    </PerfectScrollbar>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nfunction Login() {\n    const [userName, setUsername] = useState(\"\")\n    const [password, setPassword] = useState(\"\")\n    const history = useHistory();\n\n    const handleSubmit = (event) => {\n        event.preventDefault();\n        if(userName == 'admin' && password == 'test123'){\n            console.log('je bent ingelogd')\n            history.push(\"/Weather\")\n        } else if(userName == '' || password == '') {\n            alert('Fields are required')\n        } else {\n            alert('Wrong username/password combination');\n        }\n    }\n\n    return (\n        <form onSubmit={handleSubmit}>\n            <h1>Login</h1>\n            <input type=\"text\" placeholder=\"Username\" value={userName} onChange={e => setUsername(e.target.value)}/>\n            <input type=\"password\" placeholder=\"Password\" value={password} onChange={e => setPassword(e.target.value)}/>\n            <button type=\"submit\">Login</button>\n        </form>\n    );\n}\n\nexport default App;\n",{"ruleId":"25","replacedBy":"26"},{"ruleId":"27","replacedBy":"28"},{"ruleId":"25","replacedBy":"29"},{"ruleId":"27","replacedBy":"30"},{"ruleId":"31","severity":1,"message":"32","line":159,"column":21,"nodeType":"33","messageId":"34","endLine":159,"endColumn":23},{"ruleId":"31","severity":1,"message":"32","line":159,"column":44,"nodeType":"33","messageId":"34","endLine":159,"endColumn":46},{"ruleId":"31","severity":1,"message":"32","line":162,"column":28,"nodeType":"33","messageId":"34","endLine":162,"endColumn":30},{"ruleId":"31","severity":1,"message":"32","line":162,"column":46,"nodeType":"33","messageId":"34","endLine":162,"endColumn":48},"no-native-reassign",["35"],"no-negated-in-lhs",["36"],["35"],["36"],"eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","no-global-assign","no-unsafe-negation"]